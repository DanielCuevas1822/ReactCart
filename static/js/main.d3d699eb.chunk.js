(this["webpackJsonpcart-redux"]=this["webpackJsonpcart-redux"]||[]).push([[0],{51:function(t,e,c){},52:function(t,e,c){"use strict";c.r(e);var a=c(1),n=c.n(a),r=c(7),i=c.n(r),s=c(0),d=function(){return Object(s.jsx)("header",{className:"page__header",children:Object(s.jsx)("h1",{children:"Tienda de Camisetas"})})},j=c(3),l="ADD_TO_CART",o="REMOVE_FROM_CART",b="EMPTY_CART",u=function(t){return{type:l,payload:t}},O={add_to_cart_action:u,remove_from_cart_action:function(t){return{type:o,payload:t}}},m=Object(j.b)(null,O)((function(t){var e=t.data,c=e.name,a=e.price,n=e.quantity,r=t.add_to_cart_action,i=t.remove_from_cart_action;return Object(s.jsxs)("tr",{className:"item",children:[Object(s.jsx)("td",{children:c}),Object(s.jsx)("td",{children:a}),Object(s.jsxs)("td",{children:[Object(s.jsx)("button",{onClick:function(){return e=t.data,void i(e);var e},className:"btn btn--product",children:"-"}),n,Object(s.jsx)("button",{onClick:function(){return e=t.data,void r(e);var e},className:"btn btn--product",children:"+"})]}),Object(s.jsx)("td",{children:n*a})]})})),h=Object(j.b)((function(t){return{cart:t.cart}}))((function(t){var e=t.cart;return Object(s.jsxs)("section",{className:"main__cart",children:[Object(s.jsx)("h2",{className:"cart__title",children:"Cesta de la compra"}),Object(s.jsxs)("table",{className:"cart__items",children:[Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Producto"}),Object(s.jsx)("th",{children:"Precio"}),Object(s.jsx)("th",{children:"Unidades"}),Object(s.jsx)("th",{children:"Total"})]})}),Object(s.jsx)("tbody",{children:e?e.map((function(t,e){return Object(s.jsx)(m,{data:t},e)})):null})]})]})})),x=c(8),p=c(2),_=c(6),f={empty_cart:function(t){return{type:b,payload:t}}},v=Object(j.b)((function(t){return{cart:t.cart}}),f)((function(t){var e=t.isActive,c=t.shipping,a=t.cart,r=t.empty_cart,i=t.actionModal;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("div",{className:"capa ".concat(e?null:"hidden")}),Object(s.jsx)("section",{className:"modal ".concat(e?null:"hidden"),children:Object(s.jsxs)("div",{className:"contenido-modal",children:[Object(s.jsx)("h1",{children:"Gracias por comprar con nosotros"}),Object(s.jsx)("h2",{children:"Resumen de su pedido"}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{children:"Informaci\xf3n de env\xedo:"}),Object(s.jsxs)("ul",{className:"modal__shipping",children:[Object(s.jsxs)("li",{children:["Direcci\xf3n: ",c.addres]}),Object(s.jsxs)("li",{children:["Ciudad: ",c.city]}),Object(s.jsxs)("li",{children:["C\xf3digo postal: ",c.zipcode]})]}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{children:"Productos del pedido:"}),Object(s.jsx)("ul",{className:"modal__products",children:a?a.map((function(t,e){return Object(s.jsxs)("li",{children:[t.name," x ",t.quantity]},e)})):null}),Object(s.jsx)("br",{}),Object(s.jsxs)("h3",{className:"total",children:["Total a pagar: $",a&&a.length>0?a.reduce((function(t,e){return t+e.quantity*e.price}),0):null]}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{onClick:function(){r(),i()},className:"btn btn--entendido",children:"Entendido"})]})})]})})),y=Object(j.b)((function(t){return{cart:t.cart}}))((function(t){var e=t.cart,c=Object(a.useState)(!1),r=Object(_.a)(c,2),i=r[0],d=r[1],j=Object(a.useState)({addres:"",city:"",zipcode:""}),l=Object(_.a)(j,2),o=l[0],b=l[1],u=function(){d(!i),i&&b({addres:"",city:"",zipcode:""})},O=function(t){b(Object(p.a)(Object(p.a)({},o),{},Object(x.a)({},t.target.name,t.target.value)))};return Object(s.jsxs)(n.a.Fragment,{children:[e&&e.length>0?Object(s.jsxs)("section",{className:"main__shipping",children:[Object(s.jsx)("h2",{children:"\xbfD\xf3nde te lo enviamos?"}),Object(s.jsxs)("form",{children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{htmlFor:"addres",children:"Direcci\xf3n"}),Object(s.jsx)("input",{type:"text",name:"addres",id:"addres",value:o.addres,onChange:O})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{htmlFor:"city",children:"Ciudad"}),Object(s.jsx)("input",{type:"text",name:"city",id:"city",value:o.city,onChange:O})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{htmlFor:"zipcode",children:"C\xf3digo postal"}),Object(s.jsx)("input",{type:"text",name:"zipcode",id:"zipcode",value:o.zipcode,onChange:O})]}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{className:"btn btn--submit",type:"submit",value:"Enviar",onClick:function(t){t.preventDefault(),u()}})})]})]}):null,Object(s.jsx)(v,{isActive:i,shipping:o,actionModal:u})]})})),g={add_to_cart_action:u},N=Object(j.b)(null,g)((function(t){var e=t.data,c=t.add_to_cart_action;return Object(s.jsxs)("div",{className:"list__product",children:[Object(s.jsx)("div",{className:"product__image",children:Object(s.jsx)("img",{src:e.imageUrl,alt:"product"})}),Object(s.jsxs)("div",{className:"product__content",children:[Object(s.jsx)("p",{className:"product__name",children:e.name}),Object(s.jsx)("p",{className:"product__price",children:e.price}),Object(s.jsx)("button",{onClick:function(){c(e)},className:"btn btn--add",children:"A\xf1adir"})]})]})})),C=Object(j.b)((function(t){return{items:t.items}}))((function(t){var e=t.items;return Object(s.jsxs)("section",{className:"main__list",children:[Object(s.jsx)("h2",{className:"list__title",children:"Listado de Camisetas"}),Object(s.jsx)("div",{className:"list__content",children:e?e.map((function(t,e){return Object(s.jsx)(N,{data:t},e)})):null})]})})),S=function(){return Object(s.jsxs)("main",{className:"page__main",children:[Object(s.jsx)(C,{}),Object(s.jsx)(h,{}),Object(s.jsx)(y,{})]})},E=function(){return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("footer",{className:"page__footer",children:Object(s.jsx)("small",{children:"\xa9 Todos los derechos reservados"})})})},T=c(23),D=c(21),F=c.n(D),q=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),I=c(22),A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:var c=t,a=t.cart.find((function(t){return t.name===e.payload.name}));return c=a?Object(p.a)(Object(p.a)({},t),{},{cart:t.cart.map((function(t){return t.name===e.payload.name?Object(p.a)(Object(p.a)({},t),{},{quantity:t.quantity+1}):t}))}):Object(p.a)(Object(p.a)({},t),{},{cart:[].concat(Object(I.a)(t.cart),[{name:e.payload.name,price:e.payload.price,quantity:1}])}),localStorage.setItem("cart",JSON.stringify(c.cart)),c;case o:var n=t,r=t.cart.find((function(t){return t.name===e.payload.name}));return n=r&&r.quantity>1?Object(p.a)(Object(p.a)({},t),{},{cart:t.cart.map((function(t){return t.name===e.payload.name?Object(p.a)(Object(p.a)({},t),{},{quantity:t.quantity-1}):t}))}):Object(p.a)(Object(p.a)({},t),{},{cart:t.cart.filter((function(t){return t.name!==e.payload.name}))}),localStorage.setItem("cart",JSON.stringify(n.cart)),n;case b:return localStorage.removeItem("cart"),Object(p.a)(Object(p.a)({},t),{},{cart:[]});default:return t}};var R=function(){var t=function(){var t=Object(a.useState)(),e=Object(_.a)(t,2),c=e[0],n=e[1];return Object(a.useEffect)((function(){F.a.get("https://beta.adalab.es/ejercicios-extra/api/eshop/v2/cart.json").then((function(t){var e=JSON.parse(localStorage.getItem("cart"));n({items:t.data.cart.items,cart:e||[]})})).catch((function(t){console.log(t)}))}),[]),c}(),e=Object(T.a)(A,t,q);return Object(s.jsx)(j.a,{store:e,children:Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(d,{}),Object(s.jsx)(S,{}),Object(s.jsx)(E,{})]})})},k=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,53)).then((function(e){var c=e.getCLS,a=e.getFID,n=e.getFCP,r=e.getLCP,i=e.getTTFB;c(t),a(t),n(t),r(t),i(t)}))};c(51);i.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(R,{})}),document.getElementById("root")),k()}},[[52,1,2]]]);
//# sourceMappingURL=main.d3d699eb.chunk.js.map